<!DOCTYPE html>
<html>
<head>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/deepstream.io-client-js/2.0.0/deepstream.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.4.1/knockout-min.js"></script>
	<script type="text/javascript" src="main.js"></script>
	<link rel="stylesheet" type="text/css" href="screen.css" />
	<title>User specific client</title>
</head>
<body>
	<form action="#" data-bind="submit: login, visible: !isLoggedIn()">
		<input type="text" name="username" data-bind="textInput: username" />
		<input type="password" name="password" data-bind="textInput: password"/>
		<input type="submit" value="login" />
	</form>

	<div class="wrapper" data-bind="visible: isLoggedIn">
		<h2>Username is <span data-bind="text:username"></span></h2>

		<fieldset>
			<legend>RPC</legend>
			<button data-bind="click:makeRpc">Make RPC</button>
			<div class="result" data-bind="text: rpcresult"></div>
		</fieldset>

		<fieldset>
			<legend>Record</legend>
			<ul class="result">
				<li><b>Firstname:</b><span data-bind="text:firstname"></span></li>
				<li><b>Lastname:</b><span data-bind="text:lastname"></span></li>
			</ul>
		</fieldset>

		<fieldset>
			<legend>Event</legend>
			<ul class="result">
				<li data-bind="text:eventMessage"></li>
			</ul>
		</fieldset>

	</div>
</body>
</html>